# ==============================================================================
# Vector / Dynamic Array - 对应 LLM Inference 中的 KV Cache, Tensor
# ==============================================================================
#
# 【对应引擎模块】
#   - KV Cache: 存储每个 token 的 key/value 向量
#   - Tensor: 多维数组的底层存储
#
# 【学习重点】
#   1. 连续内存布局：所有元素在内存中连续存储，cache-friendly
#   2. 扩容机制：当容量不足时如何进行 2x 扩容
#   3. Stride (步长) 访问：模拟 Tensor 的多维访问模式
#
# 【实现要求】
#   - 实现 push, pop, get, resize 等核心操作
#   - 使用 Python list 或 ctypes.Array 模拟底层数组
#   - 支持 stride 访问：给定起始位置和步长，返回指定元素
#   - 测试扩容时的性能和内存拷贝开销
#
# 【练习目标】
#   - 理解 Python list 的底层实现（PyListObject）
#   - 对比 C++ vector 的性能差异
#   - 模拟 vLLM 中 KV Cache 的内存管理
#
# 【提示】
#   - 可以使用 array.array 获得更接近 C 的性能
#   - 可以用 __getitem__ 和 __setitem__ 实现下标访问
#   - 建议实现 __len__ 和 __repr__ 方法便于调试
# ==============================================================================

